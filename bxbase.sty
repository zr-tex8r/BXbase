%
% bxbase.sty
%

%% Package declaration
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bxbase}[2012/08/19 v0.9b BX base library]

%% include 'bxbase.def'
\providecommand*\bxRequireDefinition[1]{%
  \def\bxbz@ext{def}\@onefilewithoptions{#1}[][]\bxbz@ext}
\bxRequireDefinition{bxbase}
\bxBDHookBabel
\bxBDHookUnicode
\bxBDHookJisInput
\bxBDHookSafeCaret
\bxBDHookUcsFastErrors

%% load packages
\RequirePackage{ifptex}[2012/08/19]

%% error messages
\def\bxbz@pkgname{bxbase}
%\def\bxbz@error{\PackageError\bxbz@pkgname}
%\def\bxbz@warn{\PackageWarningNoLine\bxbz@pkgname}
\def\bxbz@info{\PackageInfo\bxbz@pkgname}
\def\bxbz@inf@aecsq#1{\bxbz@info{Command \string#1 already exists}}

%%------

%%<*> \Ux / \UI / \AJ / \JI / \KI
% define commands unless their name is already used
\bxPreamble\def\bxbz@charcmd#1#2{%
  \ifundef#1{\def#1{#2}}{\bxbz@inf@aecsq#1}}
\bxbz@charcmd\Ux\bxUx
\bxbz@charcmd\UI\bxUI
\bxbz@charcmd\AJ\bxAJ
\bxbz@charcmd\JI\bxJI
\bxbz@charcmd\KI\bxKI

%%------ all done
\endinput
%% EOF
%
% * bxbase provides:
%   - bx@Uxh@fb      (terminal)
%   - bxUx           (passed to bx@Ux)
%   - bxUI           (passed to bx@UI)
%   - bxUHex         (passed to bx@Uxh)
% * bxutf8 provides:
%   - conversion from UTF8 string to bxUHex
% * bxucs provides:
%   - bx@Ux@ucs      (fallback to bx@UI)
%   - bx@Uxh@ucs     (fallback to bx@UIh)
% * utf/otf provides:
%   - bx@UIh@p       (terminal)
%
% [default]
%   bx@Ux       bx@Uxh  
%     v           v     
%   bx@UI   >   bx@UIh  =  bx@UIh@fb or bx@UIh@p
%
% [with bxucs]
%   bx@Ux = bx@Ux@ucs   bx@Uxh = bx@Uxh@ucs
%             v                    v       
%           bx@UI     >          bx@UIh  =  bx@Uxh@fb or bx@UIh@p
%
